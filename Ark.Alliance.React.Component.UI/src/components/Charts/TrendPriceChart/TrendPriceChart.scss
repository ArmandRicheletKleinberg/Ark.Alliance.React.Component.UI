/**
 * TrendPriceChart Component Styles
 * 
 * Styles for real-time price chart with trend prediction overlays.
 */

.ark-trend-chart {
    /* Variables */
    --chart-bg: rgba(15, 23, 42, 0.9);
    --chart-border: rgba(255, 255, 255, 0.1);
    --chart-text: #f8fafc;
    --chart-grid: rgba(255, 255, 255, 0.05);

    --status-success: var(--ark-success, #22c55e);
    --status-error: var(--ark-error, #ef4444);
    --status-warning: var(--ark-warning, #eab308);
    --status-info: var(--ark-info, #3b82f6);

    --badge-glow-success: rgba(34, 197, 94, 0.5);
    --badge-glow-error: rgba(239, 68, 68, 0.5);
    --badge-glow-warning: rgba(234, 179, 8, 0.5);

    /* Light Theme Overrides */
    &--light {
        --chart-bg: rgba(248, 250, 252, 0.9);
        --chart-border: rgba(0, 0, 0, 0.1);
        --chart-text: #1e293b;
        --chart-grid: rgba(0, 0, 0, 0.05);
    }

    position: relative;
    background: var(--chart-bg);
    border: 1px solid var(--chart-border);
    border-radius: 8px;
    padding: 16px;
    font-family: 'Inter',
    system-ui,
    sans-serif;

    /* Animations */
    &--animated &__price-line {
        animation: price-line-draw 0.5s ease-out;
    }

    /* Title & Symbol */
    &__title {
        font-size: 16px;
        font-weight: 600;
        color: var(--chart-text);
        margin-bottom: 8px;
    }

    &__symbol {
        position: absolute;
        top: 16px;
        right: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
        color: var(--status-info);
        background: color-mix(in srgb, var(--status-info), transparent 90%);
        padding: 4px 12px;
        border-radius: 4px;
    }

    &__precision {
        font-size: 12px;
        color: color-mix(in srgb, var(--chart-text), transparent 40%);
        font-weight: 400;
    }

    /* SVG Chart */
    &__svg {
        display: block;
        width: 100%;
        overflow: visible;
    }

    &__grid-line {
        stroke: var(--chart-grid);
        stroke-width: 1;
    }

    &__price-line {
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    &__area,
    &__horizon {
        pointer-events: none;
    }

    /* Prediction Badges */
    &__badge {
        transition: transform 0.2s ease;
        cursor: pointer;

        &:hover {
            transform: scale(1.2);
        }

        &:focus {
            outline: 2px solid var(--status-info);
            outline-offset: 4px;
            border-radius: 50%;
        }

        &--long {
            .ark-trend-chart__badge-circle {
                fill: var(--status-success);
            }

            .ark-trend-chart__badge-glow {
                fill: var(--badge-glow-success);
            }
        }

        &--short {
            .ark-trend-chart__badge-circle {
                fill: var(--status-error);
            }

            .ark-trend-chart__badge-glow {
                fill: var(--badge-glow-error);
            }
        }

        &--wait {
            .ark-trend-chart__badge-circle {
                fill: var(--status-warning);
            }

            .ark-trend-chart__badge-glow {
                fill: var(--badge-glow-warning);
            }
        }
    }

    &__badge-glow {
        animation: badge-pulse 2s ease-in-out infinite;
    }

    &__badge-circle {
        filter: drop-shadow(0 0 4px currentColor);
    }

    /* Validation Indicators */
    &__validation-line {
        stroke-width: 1.5;
        stroke-dasharray: 4 3;

        &--correct {
            stroke: var(--status-success);
        }

        &--wrong {
            stroke: var(--status-error);
        }
    }

    &__validation-text {
        &--correct {
            fill: var(--status-success);
        }

        &--wrong {
            fill: var(--status-error);
        }
    }

    /* Streaming Indicator */
    &__streaming-dot {
        fill: var(--status-success);
        animation: streaming-blink 1s ease-in-out infinite;
    }

    /* Legend */
    &__legend {
        display: flex;
        justify-content: center;
        gap: 24px;
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid var(--chart-border);
    }

    &__legend-item {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        color: color-mix(in srgb, var(--chart-text), transparent 40%);
    }

    &__legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;

        &--long {
            background: var(--status-success);
            box-shadow: 0 0 6px var(--badge-glow-success);
        }

        &--short {
            background: var(--status-error);
            box-shadow: 0 0 6px var(--badge-glow-error);
        }

        &--wait {
            background: var(--status-warning);
            box-shadow: 0 0 6px var(--badge-glow-warning);
        }
    }
}

@keyframes price-line-draw {
    from {
        stroke-dashoffset: 1000;
    }

    to {
        stroke-dashoffset: 0;
    }
}

@keyframes badge-pulse {

    0%,
    100% {
        opacity: 0.3;
        r: 10;
    }

    50% {
        opacity: 0.6;
        r: 14;
    }
}

@keyframes streaming-blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.3;
    }
}